#!/usr/bin/bash

sudo medium_setup
sudo rm -f /usr/local/bin/medium_setup

gsettings set org.gnome.desktop.interface font-name 'Sans 10'
gsettings set org.gnome.desktop.interface document-font-name 'Serif 10'
gsettings set org.gnome.desktop.interface monospace-font-name 'Monospace 10'
gsettings set org.gnome.desktop.interface gtk-theme 'Adwaita-dark'
gsettings set org.gnome.desktop.media-handling automount false
gsettings set org.gnome.desktop.media-handling automount-open false
gnome-extensions enable 'appindicatorsupport@rgcjonas.gmail.com'

cp -r /opt/configs/backgrounds/ ~/.local/share/
cp -r /opt/configs/user/ghostty $XDG_CONFIG_HOME
cp -r /opt/configs/user/firefox/* $XDG_CONFIG_HOME/mozilla/firefox/*.default-release/

sudo rm -fr /opt/configs

git config set --global user.name 'AlaEldin Mohamed'
git config set --global user.email 'aeiedamo@gmail.com'
git config set --global init.defaultBranch 'main'

ssh-keygen -C 'am@aeiedamo'
gpg --full-gen-key
git config set --global user.signingkey "$(gpg -K --keyid-format=long | grep 'sec' | cut -d '/' -f2 | cut -d ' ' -f1)"
git config set --global commit.gpgsign true
git config set --global tag.gpgSign true

git clone --depth 1 'https://aur.archlinux.org/yay-bin.git' /tmp/yay-bin
makepkg -sicD /tmp/yay-bin

yay -Syu intel-compute-runtime-legacy-bin

sudo rm -f /usr/local/bin/medium_user
